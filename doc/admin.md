# Todolist - руководство администратора

Целью данного руководство является объяснение процесса развертывания приложения.

## База данных

Для работы приложения необходима СУБД PostgreSQL. Приложение проверялось на PostgreSQL 13.0, работа на более ранних СУБД не гарантируется.

1. Установить СУБД на том же компьютере, на котором будет развернуто приложение, или на компьютере, доступном по сети с компьютером, 
на котором будет развернуто приложение.

2. Создать базу данных, которая будет хранилищем информации для приложения. 

3. По умолчанию для работы с базой данных может использоваться пользователь *postgres*, при необходимости - создать другого пользователя, 
у которого должны быть права доступа на чтение, редактирование и создание таблиц в базе данных.

## Развертывание приложения

1. На компьютере, на котором будет развернуто приложение, необходимо установить JRE (или JDK) 15 или выше.

2. В репозитории во вкладке "Releases" доступны готовые jar-сборки приложения. Если необходимо собрать jar-сборку из имеющегося исходного кода, то:
    1. Перейти в директорию с исходным кодом
    2. Выполнить команду "gradlew.bat build" или "gradlew build" в зависимости от ОС, чтобы установить в проекте Gradle
    3. Выполнить команду "gradlew bootJar" или "gradlew.bat bootJar" в зависимости от ОС, чтобы собрать jar-сборку. Сборка будет собрана в build/libs

3. Для связи приложения с базой данных необходимо прописать переменные окружения:
    1. DB_URL - адрес базы данных, по типу "jdbc:postgresql://ADDRESS/DATABASE", где ADDRESS - это сетевой адрес компьютера, на котором уставлена база данных, 
    DATABASE - название базы данных.
    2. DB_USERNAME - имя пользователя базы данных.
    3. DB_PASSWORD - пароль пользователя базы данных.
4. Для обеспечения настроек безопасности необходимо прописать переменную окружения JWT_SECRET - любая строка, которая может использоваться 
для генерации подписи у JWT-токенов
5. Для запуска приложения используйте команду "java -jar application.jar", где application.jar - jar-сборка приложения.
6. По умолчанию приложение запускается на порту 8080. Чтобы поменять порт, можно использовать вариант команды "java -jar application.jar -server.port=XXXX", 
где XXXX - порт.